<!DOCTYPE html>
<html lang="en">
<title></title>
<head>
    <script>
     
     
        
       var menu=[
{
    "title": "Desktop",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Hardware",
    "price": "400",
    "availableQuantity": "5",
    "daysToShip": "7",
    "warranty": "10"
},
{
    "title": "MySQL",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Software",
    "price": "150",
    "availableQuantity": "50",
    "daysToShip": "1",
    "warranty": "0"
},
{
    "title": "MacBook",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Hardware",
    "price": "600",
    "availableQuantity": "19",
    "daysToShip": "5",
    "warranty": "11"
},
{
    "title": "Adobe CC",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Cloud",
    "price": "700",
    "availableQuantity": "10",
    "daysToShip": "1",
    "warranty": "0"
},
{
    "title": "Outlook Mail",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Cloud",
    "price": "100",
    "availableQuantity": "100",
    "daysToShip": "1",
    "warranty": "0"
},
{
    "title": "Mobile",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Hardware",
    "price": "500",
    "availableQuantity": "90",
    "daysToShip": "5",
    "warranty": "10"
},
{
    "title": "Keyboard",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Hardware",
    "price": "50",
    "availableQuantity": "110",
    "daysToShip": "5",
    "warranty": "15"
},
{
    "title": "Microsoft Team Foundation Server",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Cloud",
    "price": "1100",
    "availableQuantity": "90",
    "daysToShip": "1",
    "warranty": "0"
},
{
    "title": "Microsoft Office",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Software",
    "price": "600",
    "availableQuantity": "75",
    "daysToShip": "1",
    "warranty": "0"
},
{
    "title": "Harddisk",
    "description": "Lorem Ipsum is simply dummy text of the printing and typesetting industry",
    "category": "Hardware",
    "price": "150",
    "availableQuantity": "40",
    "daysToShip": "3",
    "warranty": "365"
}];
       

       

Array.prototype.unique=function(){
  var arr =[];
  for(var i=0;i<this.length;i++){
    if(!arr.includes(this[i])){
      arr.push(this[i]);
    }
  }
  return arr;
}
var str="";
 var arrCategory=[];
 var arrWarranty=[];
 var arrDescription=[];
 var arrPrice=[];
 var arrAvailableQuantity=[];
 var boolVal=false;
 var temp=menu;
function tableManipulation(){

       var localVar;
      
	  //temp=menu;
	  
	  console.log(JSON.stringify(temp));
	 // console.log(localVar);
		/*  if(boolVal==false){
		  
		  localVar=menu;
		   boolVal=true;
		   str="";
		  }else{
		
			localVar=temp;
			alert(localVar);
		  boolVal=false;
		  
		  }*/
        str+="<table><tr><th>Title</th><th>description</th><th>category</th><th>price</th><th>availableQuantity</th><th>daysToShip</th><th>warranty</th></tr>";
       
   
	  
      for(var key of Object.values(temp)){
        console.log(key.category);
		arrCategory.push(key.category);
		arrPrice.push(key.price);
		 str+="<tr><td>"+key.title+"</td><td>"+key.description+"</td><td>"+key.category+"</td><td>"+key.price+"</td><td>"+key.availableQuantity+"</td><td>"+key.daysToShip+"</td><td>"+key.warranty+"</td></tr>";
        
      }
	
     str+="</table>";  
	 
	// temp=menu;
	 
 }
 
 
 function onload(){
	 tableManipulation();
	 document.getElementById("appenderId").innerHTML=str;
	 str="";
	 console.log(arrCategory.unique()+"ok"+arrPrice.unique().sort())
	 categorySelector(arrCategory.unique());
	 priceSelector(arrPrice.unique());
	 
	 }
  function categorySelector(arr){
     var text="<option>select</option>";
	 for(var i of arr){
	 text+="<option>"+i+"</option>";
	 }
	 document.getElementById("category").innerHTML=text;
	 //selectedCategory();
  }
  function priceSelector(arr){
     var text="<option>select</option>";
	 for(var i of arr){
	 text+="<option>"+i+"</option>";
	 }
	 document.getElementById("rate").innerHTML=text;
	 
  }
  function selectedCategory(elem){
  var idVal=elem.id;
  
     var x = document.getElementById(idVal).selectedIndex;
       //alert(document.getElementsByTagName("option")[x].value);
	   filteringVal(document.getElementsByTagName("option")[x].value)
  }
  function filteringVal(val){
 // alert(val);
 if(val!="select"){
  var filtered = menu.filter(function(item){
         return item.category==val;
       });
	 temp=filtered;
	}else{
	temp=menu;
	}
	  // console.log(filtered);
   
   console.log(JSON.stringify(temp));
   //filtered="";
   tableManipulation();
   document.getElementById("appenderId").innerHTML=str;
   str="";
  }
 
    
    </script>
    <style>
        ul{ list-style-type: none;}
		td,th{border:solid 1px black;}
    </style>
    
</head>
<body onload="onload();">
<select id="category" onchange="selectedCategory(this)" ></select>
<select id="rate" onchange="selectedCategory(this)" ></select>
<div  id="appenderId" style="border:solid 1px green;top:0px;left:0px;">
</div>
   <div id="content_area" style="width:150px;height:500px;border:solid 1px red;border:solid 1px red;float:left"></div>
   


</body>
</html>
